<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>管理者画面</title>
<style>
body{font-family: sans-serif;max-width:900px;margin:20px auto;padding:10px;}
label{display:block;margin-top:10px;}
.box{border:1px solid #ddd;padding:10px;margin-top:10px;}
button{margin-top:6px;padding:8px 12px;}
#currentCall{font-weight:bold}
</style>
</head>
<body>
<h1>管理者 - 管理画面</h1>

<div class="box">
  <label>配布済み整理券範囲（例: 1-50）</label>
  <input id="rangeInput" placeholder="1-50">
  <button id="setRangeBtn">設定して保存</button>
  <div>現在の範囲: <span id="currentRange">未設定</span></div>
</div>

<div class="box">
  <label>場内最大人数</label>
  <input id="maxInside" type="number" value="5">
  <button id="setMaxBtn">更新</button>
</div>

<div class="box">
  <h3>集計</h3>
  <div>配布数: <span id="distributedCount">0</span></div>
  <div>チェックイン数: <span id="checkedIn">0</span></div>
  <div>チェックアウト数: <span id="checkedOut">0</span></div>
  <div>現在呼び出し番号: <span id="currentCall">-</span></div>
  <button id="refreshStats">更新（集計）</button>
  <button id="resetBtn">リセット（配布範囲と履歴をクリア）</button>
</div>

<div class="box">
  <h3>PDF 発行（A4 12分割・表裏）</h3>
  <label>開始番号 <input id="pdfStart" type="number"></label>
  <label>終了番号 <input id="pdfEnd" type="number"></label>
  <label>サイトURL（表面QRに入れる） <input id="siteUrl" placeholder="https://example.com/user"></label>
  <button id="generatePdfBtn">PDF生成・ダウンロード</button>
</div>

<script src="https://unpkg.com/jsqr/dist/jsQR.js"></script>
<script src="/admin/admin.js"></script>
</body>
</html>
